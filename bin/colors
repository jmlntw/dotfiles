#!/bin/bash
#
# Prints a bunch of color codes to the terminal to demonstrate its
# functionality.

# 4-bit (16-color):
# The normal color escape sequence is `^[<n>m`.
# The bright color escape sequence is `^[1;<n>m`.
# The escape sequence `^[0m` returns output to default.

for b in 0 1; do
  for n in $(seq 0 7); do
    fg=$((n + 30))
    bg=$((n + 40))
    printf '\033[%d;%dm %3s \033[0m' "${b}" "${fg}" "${fg}"
    printf '\033[%d;%dm %3s \033[0m' "${b}" "${bg}" "${bg}"
  done
  printf '\n'
done

for b in 0 1; do
  for n in $(seq 0 7); do
    fg=$((n + 90))
    bg=$((n + 100))
    printf '\033[%d;%dm %3s \033[0m' "${b}" "${fg}" "${fg}"
    printf '\033[%d;%dm %3s \033[0m' "${b}" "${bg}" "${bg}"
  done
  printf '\n'
done

# 8-bit (256-color):
# The foreground escape sequence is `^[38;5;<n>m`.
# The background escape sequence is `^[48;5;<n>m`.
# The escape sequence `^[0m` returns output to default.

for n in $(seq 0 15); do
  printf '\033[38;5;%dm %3s \033[0m' "${n}" "${n}"
  printf '\033[48;5;%dm %3s \033[0m' "${n}" "${n}"
  (((n + 1) % 8 == 0)) && printf '\n'
done

for n in $(seq 16 231); do
  printf '\033[38;5;%dm %3s \033[0m' "${n}" "${n}"
  printf '\033[48;5;%dm %3s \033[0m' "${n}" "${n}"
  (((n - 15) % 6 == 0)) && printf '\n'
done

for n in $(seq 232 255); do
  printf '\033[38;5;%dm %3s \033[0m' "${n}" "${n}"
  printf '\033[48;5;%dm %3s \033[0m' "${n}" "${n}"
  (((n - 231) % 6 == 0)) && printf '\n'
done

# 24-bit (true color):
# The foreground escape sequence is `^[38;2;<r>;<g>;<b>m`.
# The background escape sequence is `^[48;2;<r>;<g>;<b>m`.
# The escape sequence `^[0m` returns output to default.

for s in 38 48; do
  ((s == 38)) && t=':'
  ((s == 48)) && t=' '
  for g in $(seq 0 20 255); do
    printf '\033[%d;2;255;%d;0m%s\033[0m' "${s}" "${g}" "${t}"
  done
  for r in $(seq 255 -20 0); do
    printf '\033[%d;2;%d;255;0m%s\033[0m' "${s}" "${r}" "${t}"
  done
  for b in $(seq 0 20 255); do
    printf '\033[%d;2;0;255;%dm%s\033[0m' "${s}" "${b}" "${t}"
  done
  for g in $(seq 255 -20 0); do
    printf '\033[%d;2;0;%d;255m%s\033[0m' "${s}" "${g}" "${t}"
  done
  for r in $(seq 0 20 255); do
    printf '\033[%d;2;%d;0;255m%s\033[0m' "${s}" "${r}" "${t}"
  done
  for b in $(seq 255 -20 0); do
    printf '\033[%d;2;255;0;%dm%s\033[0m' "${s}" "${b}" "${t}"
  done
  printf '\n'
done
