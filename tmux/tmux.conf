# ~/.tmux.conf

# ------------------------------------------------------------------------------
# General
# ------------------------------------------------------------------------------

# Set prefix to Ctrl+A.
set-option -g prefix C-a
bind-key C-a send-prefix
unbind-key C-b

# Enable xterm-style function key sequences.
set-window-option -g xterm-keys on

# Enable mouse.
set-option -g mouse on

# Set faster command sequences.
set-option -s escape-time 10

# Increase repeat timeout.
set-option -sg repeat-time 1000

# Boost history.
set-option -g history-limit 5000

# Enable focus event.
set-option -s focus-event on

# Start windows and panes numbering at 1.
set-option -g base-index 1
set-window-option -g pane-base-index 1

# Re-number windows when a window is closed.
set-option -g renumber-windows on

# Rename window to reflect current program.
set-window-option -g automatic-rename on

# ------------------------------------------------------------------------------
# Display
# ------------------------------------------------------------------------------

# Set terminal title.
set-option -g set-titles on
set-option -g set-titles-string 'tmux: #S #I #P: #W'

# Enable visual notification.
set-option -g monitor-activity on
set-option -g visual-activity on

# Enable 256 color terminal.
set-option -g default-terminal 'screen-256color'

# Set status bar style.
set-option -g status-interval 60
set-option -g status-left ' #S #I #P '
set-option -g status-right '#{?client_prefix,#[reverse] ^A #[noreverse],} %R '

# Set windows status style.
set-option -g window-status-format ' #I:#W#F '
set-option -g window-status-current-format ' #I:#W#F '
set-option -g window-status-style fg=black,bg=green
set-option -g window-status-current-style fg=black,bg=yellow
set-option -g window-status-separator ''

# Set pane border style.
set-option -g pane-border-style bg=default,fg=colour240
set-option -g pane-active-border-style bg=default,fg=green

# ------------------------------------------------------------------------------
# Key Bindings
# ------------------------------------------------------------------------------

# Enable Vi mode.
set-option -g status-key vi
set-option -g mode-keys vi

# Global:
#   Ctrl+L          Clear both screen and history.
#   Ctrl+A R        Reload tmux configuration file.
#   Ctrl+A T        Show the time.
#   Ctrl+A ?        List all key bindings.
#   Ctrl+A :        Enter the tmux command prompt.
bind-key r source-file ~/.tmux.conf \; display-message '~/.tmux.conf reloaded'
bind-key -n C-l send-keys C-l \; run 'sleep 0.1' \; clear-history

# Session:
#   Ctrl+A Ctrl+C   Create a new session.
#   Ctrl+A S        Choose the current session interactively.
#   Ctrl+A $        Rename the current session.
#   Ctrl+A D        Detach the current client.
#   Ctrl+A )        Change to the next session.
#   Ctrl+A (        Change to the previous session.
bind-key C-c new-session

# Window:
#   Ctrl+A C        Create a new window.
#   Ctrl+A W        Choose the current window interactively.
#   Ctrl+A N        Change to the next window.
#   Ctrl+A P        Change to the previous window.
#   Ctrl+A F        Find opened windows.
#   Ctrl+A ,        Rename the current window.
#   Ctrl+A &        Kill the current window.
bind-key & kill-window

# Pane:
#   Ctrl+A |        Split the current pane into two, left and right.
#   Ctrl+A -        Split the current pane into two, top and bottom.
#   Ctrl+A O        Select the next pane in the current window.
#   Ctrl+A Q        Briefly display pane indexes.
#   Ctrl+A X        Kill the current pane.
#   Ctrl+A Space    Arrange the current window in the next preset layout.
#   Ctrl+A <        Swap the current pane with the previous pane.
#   Ctrl+A >        Swap the current pane with the next pane.
#   Ctrl+A Z        Toggle zoom state of the current pane.
bind-key | split-window -h
bind-key - split-window -v
bind-key x kill-pane
bind-key < swap-pane -U
bind-key > swap-pane -D

# Copy Mode:
#   Ctrl+A [        Enter copy mode to copy text or view the history.
#   Ctrl+A ]        Paste the most recently copied buffer of text.
#   Space           Start selection.
#   Esc             Clear selection.
#   Enter           Copy selection.
#   Q               Quit copy mode.

# ------------------------------------------------------------------------------
# Local Configuration
# ------------------------------------------------------------------------------

# Load local configuration if exists.
source-file -q ~/.tmux.conf.local
